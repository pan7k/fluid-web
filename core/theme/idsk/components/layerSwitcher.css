[data-theme-name="idsk"] .layer-switcher-title {
  @apply text-lg font-semibold text-text-primary;
}

[data-theme-name="idsk"] .layer-switcher-content {
  @apply p-2;
}

[data-theme-name="idsk"] .layer-item {
  @apply flex items-center gap-2 py-2 relative transition-colors duration-150 pr-2 pl-2;
  min-height: 2rem;
}

[data-theme-name="idsk"] .layer-item > :not(.layer-actions) {
  @apply flex items-center gap-2;
}

[data-theme-name="idsk"] .layer-item:hover {
  @apply bg-surface-20;
}

[data-theme-name="idsk"] .layer-group-content {
  @apply ml-4 border-l border-surface-30 overflow-hidden transition-all duration-200;
}

[data-theme-name="idsk"] .layer-group-content.expanded {
  @apply max-h-screen opacity-100;
}

[data-theme-name="idsk"] .layer-group-content.collapsed {
  @apply max-h-0 opacity-0;
}

[data-theme-name="idsk"] .layer-toggle-button {
  @apply w-5 h-5 flex items-center justify-center transition-transform duration-200 flex-shrink-0;
}

[data-theme-name="idsk"] .layer-toggle-button .icon {
  @apply transition-transform duration-200;
}

[data-theme-name="idsk"] .layer-toggle-button.expanded .icon {
  @apply rotate-0;
}

[data-theme-name="idsk"] .layer-toggle-button.collapsed .icon {
  @apply -rotate-90;
}

[data-theme-name="idsk"] .layer-toggle-button-placeholder {
  @apply opacity-50 cursor-default pointer-events-none;
}

[data-theme-name="idsk"] .layer-toggle-button-placeholder .icon {
  @apply w-3 h-3;
}

[data-theme-name="idsk"] .layer-checkbox {
  @apply w-4 h-4 border border-surface-30 bg-surface-10 mt-0.5;
  flex-shrink: 0;
}

[data-theme-name="idsk"] .layer-title {
  @apply text-sm font-medium text-text-primary flex-grow;
  word-break: break-word;
}

[data-theme-name="idsk"] .layer-menu-button {
  @apply w-5 h-5 flex items-center justify-center hover:bg-surface-20 transition-colors duration-150;
}

[data-theme-name="idsk"] .layer-context-menu {
  @apply absolute right-0 mt-2 w-48 bg-surface-10 border border-surface-30 shadow-lg;
  z-index: 9999;
  position: fixed;
}

[data-theme-name="idsk"] .layer-context-menu > div {
  @apply flex flex-col w-full;
}

[data-theme-name="idsk"] .layer-context-menu-item {
  @apply flex w-full px-4 py-2 text-sm text-left text-text-primary hover:bg-surface-20 transition-colors duration-150;
}

/* button */
[data-theme-name="idsk"] .layer-context-menu .button {
  @apply w-full max-w-none justify-start;
}

@keyframes menuFadeIn {
  from {
    opacity: 0;
    transform: translateY(-0.25rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

[data-theme-name="idsk"] .layer-actions {
  @apply flex items-center gap-1 ml-auto flex-shrink-0;
}

[data-theme-name="idsk"] .layer-action-button {
  @apply w-5 h-5 flex items-center justify-center hover:bg-surface-20 transition-colors duration-150;
}

[data-theme-name="idsk"] .layer-action-button:hover {
  @apply bg-surface-20;
}

[data-theme-name="idsk"] .layer-details {
  @apply ml-4 mt-1 mb-2 border-l border-surface-30 pl-3 pr-5;
}

[data-theme-name="idsk"] .layer-legend {
  @apply mb-3;
}

[data-theme-name="idsk"] .layer-legend img {
  @apply max-w-full h-auto;
}

[data-theme-name="idsk"] .layer-opacity {
  @apply flex flex-col gap-1;
}

[data-theme-name="idsk"] .layer-opacity-label {
  @apply text-sm text-text-secondary;
}


[data-theme-name="idsk"] .layer-sortable {
  @apply relative;
}

[data-theme-name="idsk"] .layer-sortable.is-over::before {
  content: '';
  @apply absolute left-0 right-0 h-0.5 bg-primary-main pointer-events-none;
  z-index: 1;
}

[data-theme-name="idsk"] .layer-sortable[data-drop-position="top"]::before {
  top: 0;
}

[data-theme-name="idsk"] .layer-sortable[data-drop-position="bottom"]::before {
  bottom: 0;
}

[data-theme-name="idsk"] .layer-left-content {
  @apply flex items-center gap-2 min-w-0 flex-grow;
}

[data-theme-name="idsk"] .layer-left-content .checkbox {
  @apply min-w-0 flex-grow overflow-hidden;
  flex-basis: 0;
}

[data-theme-name="idsk"] .layer-left-content .checkbox-input {
  @apply flex-shrink-0;
}

/* checkbox */
[data-theme-name="idsk"] .layer-left-content .checkbox > :last-child {
  @apply truncate overflow-hidden;
  min-width: 0;
}
